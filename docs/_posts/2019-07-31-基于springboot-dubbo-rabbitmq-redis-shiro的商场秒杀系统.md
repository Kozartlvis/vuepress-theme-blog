---
category: Web
tags:
  - SpringBoot
  - Dubbo
  - RabbitMQ
  - Redis
  - Shiro
  - Mybatis
  - Zookeeper
  - Druid
  - Swagger
title: 基于Springboot+Dubbo+RabbitMQ+Redis+Shiro的商场秒杀系统(一)
date: '2019-07-31 09:05'
vssue-title: 基于Springboot+dubbo+rabbitMQ+Redis+Shiro的商场秒杀系统(一)
# header-image: /assets/img/header-image-01.jpg
# top: null
---
系统设计思想  
想通过这个项目来锻炼分布式高并发系统  
以及应用各个框架和中间件  
<!-- more -->  
首先会从后端开始写起，然后再写用户交付写前端页面
## 设计思想  
明确规模：一万人秒杀100件商品。
### 秒杀的一些问题：
* 读大于写  
* 高并发  
* 数据库读写性能  
* 秒杀防盗刷  
* 资源冲突  
* 超卖问题  

### 解决方法： 
**限流**：前端直接限流，允许少部分流量流向后端。  
**削峰**：瞬时大流量峰值容易压垮系统，解决这个问题是重中之重。常用的消峰方法有异步处理、缓存和消息中间件等技术。  
**异步处理**：秒杀系统是一个高并发系统，采用异步处理模式可以极大地提高系统并发量，其实异步处理就是削峰的一种实现方式。  
**内存缓存**：秒杀系统最大的瓶颈一般都是数据库读写，由于数据库读写属于磁盘IO，性能很低，如果能够把部分数据或业务逻辑转移到内存缓存，效率会有极大地提升。  
**消息队列**：消息队列可以削峰，将拦截大量并发请求，这也是一个异步处理过程，后台业务根据自己的处理能力，从消息队列中主动的拉取请求消息进行业务处理。  
**可拓展**：如果流量来了，拓展机器就好了，像淘宝、京东等双十一活动时会临时增加大量机器应对交易高峰。  

### 技术解决方案：  
1. 前端静态html CDN部署  
2. 使用Redis缓存
3. 使用乐观锁
4. 分布式锁
5. MD5加密
6. Nginx限流(基于漏桶原理)
7. 负载均衡
8. 异步
9. 队列
10. 秒杀地址接口隐藏
11. 验证码
12. 用RateLimiter(基于令牌桶原理)


